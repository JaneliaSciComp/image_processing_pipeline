{% extends "branding.html" %}
{% block content %}
    <div class="row lightsheet-row">
        <table class="table table-striped table-hover" id='job-table'/>
    </div>
    <script>
        window.APP_ROOT = {{ request.script_root | tojson | safe}}
    </script>
    <script>document.write("<script src='{{ url_for('static', filename='js/table.js') }}?time=" + Date.now() +"'><\/script>");</script>
    <script>document.write("<script src='{{ url_for('static', filename='js/submit.js') }}?time=" + Date.now() +"'><\/script>");</script>

    <!-- template variables to be processed in JavaScript -->
    <script>
        allJobs=true;
        var hideColumns = 0;
        var jacs_host = "{{jacs_host}}";
        var jacs_dashboard_url = "{{ jacs_dashboard_url }}";
        {% if jobsJson is defined and jobsJson %}
            var table_data = {{ jobsJson|safe }};
        {% else %}
            var table_data = null;
        {% endif %}
        const baseUrl = "{{ url_for('table_data') }}";
        var tableDataURL =  baseUrl + "?showAllJobs=True";
    </script>
{% endblock content %}