<!DOCTYPE html>
<html>
  <head>
    <!-- contrib css dependencies -->
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='components/bootstrap/css/bootstrap.min.css') }}">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='components/datatables.net-bs4/css/dataTables.bootstrap4.css') }}">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='components/bootstrap-select/dist/css/bootstrap-select.css') }}">

    <!-- custom css dependencies -->
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/overrides.css') }}">

    <!-- contrib scripts -->
    <script src="{{url_for('static', filename='components/jquery/dist/jquery.min.js')}}"></script>
    <script src="{{url_for('static', filename='components/datatables.net/js/jquery.dataTables.js')}}"></script>
    <script src="{{url_for('static', filename='components/popper.js/dist/umd/popper.min.js')}}"></script>
    <script src="{{url_for('static', filename='components/bootstrap/js/bootstrap.min.js')}}"></script>
    <script src="{{url_for('static', filename='components/mustache/mustache.min.js')}}"></script>
    <script src="{{url_for('static', filename='components/bootstrap-select/dist/js/bootstrap-select.min.js')}}"></script>

    <!-- custom scripts -->
    <script src="{{url_for('static', filename='js/inputfields.js')}}"></script>
    <script src="{{url_for('static', filename='js/table.js')}}"></script>

    <title>Lightsheet Pipeline</title>
  </head>
  <body onchange="globalFunctions.bubbleUpEvents();">
    <div class="lightsheet-container container-fluid">
     {% block branding %}{% endblock %}
     {% block navbar %}{% endblock %}
     {% block content %}{% endblock %}
    </div>
  </body>
  <script>
    var globalFunctions = globalFunctions || {};

    globalFunctions.bubbleUpEvents = function(){
      $("select[id^='select_'").each(
        function(){
          var tmp = this.parentElement.getElementsByClassName('dropdown-menu')[0];
          var selectedItems = $(tmp).find("a[aria-selected=true]");
          if (selectedItems && selectedItems.length > 0){
            console.log(this.id);
            console.log(selectedItems.length);
            // check dependencies and enable / disable fields accordingly

          }
        }
      )
    }
  </script>
</html>
